

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>8.1.3. Why does SIMP use rsync? &mdash; SIMP 5.2.1-0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="https://media.readthedocs.org/css/sphinx_rtd_theme.css" type="text/css" />
  
    <link rel="stylesheet" href="https://media.readthedocs.org/css/readthedocs-doc-embed.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/css_overrides.css" type="text/css" />
  

  
    <link rel="top" title="SIMP 5.2.1-0 documentation" href="../../index.html"/>
        <link rel="up" title="8.1. Frequently Asked Questions" href="../FAQ.html"/>
        <link rel="next" title="8.2. Public Resources" href="../Public_Resources.html"/>
        <link rel="prev" title="8.1.2. What is the Password Complexity for SIMP?" href="Password_Complexity.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../../index.html">
        

        
          
          <img src="../../_static/SIMP_Logo.png" class="logo" />
        
        </a>

        
          
          
            <div class="version">
              5.2.1
            </div>
          
        

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Welcome to the SIMP documentation!</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../getting_started_guide/Just_Install.html">1. For the Impatient</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dynamic/Changelog.html">2. Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started_guide/index.html">3. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../user_guide/index.html">4. User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributors_guide/index.html">5. Contributing to SIMP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security_conop/index.html">6. Security Concept of Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security_mapping/index.html">7. Security Control Mapping</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">8. Help</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html">Help</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../FAQ.html">8.1. Frequently Asked Questions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="SIMP_Version_Guide.html">8.1.1. SIMP Version Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="Password_Complexity.html">8.1.2. What is the Password Complexity for SIMP?</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">8.1.3. Why does SIMP use rsync?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#large-files">8.1.3.1. Large Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#large-numbers-of-files">8.1.3.2. Large Numbers of Files</a></li>
<li class="toctree-l4"><a class="reference internal" href="#where-are-the-rsync-files">8.1.3.3. Where are the rsync files?</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Public_Resources.html">8.2. Public Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Commercial_Resources.html">8.3. Commercial Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#indices-and-tables">8.4. Indices and tables</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">9. License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html#contact">10. Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">11. Glossary of Terms</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">SIMP</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">8. Help</a> &raquo;</li>
      
          <li><a href="../FAQ.html">8.1. Frequently Asked Questions</a> &raquo;</li>
      
    <li>8.1.3. Why does SIMP use rsync?</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/help/FAQ/Rsync.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="why-does-simp-use-rsync">
<span id="rsync-justification"></span><h1>8.1.3. Why does SIMP use rsync?<a class="headerlink" href="#why-does-simp-use-rsync" title="Permalink to this headline">¶</a></h1>
<p>SIMP uses <cite>rsync</cite> to manage both large files and large numbers of small files.
This is to reduce the number of resources in the catalog and take advantage of
rsync&#8217;s syncing engine to reduce network load and Puppet run times.</p>
<p>The common SIMP use cases for rsync include:</p>
<blockquote>
<div><ul class="simple">
<li>clamav</li>
<li>tftpboot</li>
<li>named</li>
<li>dhcpd</li>
</ul>
</div></blockquote>
<div class="section" id="large-files">
<h2>8.1.3.1. Large Files<a class="headerlink" href="#large-files" title="Permalink to this headline">¶</a></h2>
<p>Both the system kickstart images, and the clamav virus definitions are fairly
large (100MB+).  This isn&#8217;t itself an issue. However, as the file changes over
time, Puppet would have to transfer the entire file every time it changes.</p>
<p>To access the accuracy of a file defined in the catalog, Puppet checksums the
file and compares it to the checksum of the expected content. This process
could take a long time, depending on the size of the file. If the sums don&#8217;t
match, Puppet replaces and transfers the entire file. Rsync is smarter than
that, and only replaces the parts of the file that need replacing. In this
case, rsync saves bandwidth, Puppet run time, and a few CPU cycles.</p>
</div>
<div class="section" id="large-numbers-of-files">
<h2>8.1.3.2. Large Numbers of Files<a class="headerlink" href="#large-numbers-of-files" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">named</span></code> and <code class="docutils literal"><span class="pre">dhcpd</span></code> are the opposite situation. In both of these cases,
they may manage large numbers of files.  Typically, like above, Puppet would
have to checksum every file and see if it needed changing, with each file
setting up a new connection to the Puppet server transferring each file
indivudually.  A small number of file resources wouldn&#8217;t be the end of the
world when managing something with Puppet, but rsync limits every one of these
files to one transaction and one resource. If you have a highly complex site,
without rsync, this could grow your catalog to the point where Puppet would
have a difficult time processing the entries in a timely manner.  Syncing
directories in this fashion also allows for configuration to be managed outside
of the Puppet space.</p>
</div>
<div class="section" id="where-are-the-rsync-files">
<h2>8.1.3.3. Where are the rsync files?<a class="headerlink" href="#where-are-the-rsync-files" title="Permalink to this headline">¶</a></h2>
<p>SIMP disributes the rsync materials in the <code class="docutils literal"><span class="pre">simp-rsync</span></code> rpm, which installs a
file tree in <code class="docutils literal"><span class="pre">/var/simp/environments/simp/rsync</span></code>. These directories are
shared by the <code class="docutils literal"><span class="pre">simp::server::rsync_shares</span></code> class, which is included on the
SIMP server if the <code class="docutils literal"><span class="pre">simp_options::rsync</span></code> catalyst is enabled.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Public_Resources.html" class="btn btn-neutral float-right" title="8.2. Public Resources" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Password_Complexity.html" class="btn btn-neutral" title="8.1.2. What is the Password Complexity for SIMP?" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, THE SIMP TEAM.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'4.2.X',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>